import{S as l,i as c,s as u,C as f,D as p,E as _,F as g,g as m,d,G as v,o as k}from"../chunks/index.51f46b54.js";import{p as C}from"../chunks/stores.279b9797.js";function h(r){let o;const a=r[1].default,e=f(a,r,r[0],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,n){e&&e.m(t,n),o=!0},p(t,[n]){e&&e.p&&(!o||n&1)&&p(e,a,t,t[0],o?g(a,t[0],n,null):_(t[0]),null)},i(t){o||(m(e,t),o=!0)},o(t){d(e,t),o=!1},d(t){e&&e.d(t)}}}function w(r,o,a){let e;v(r,C,s=>a(2,e=s));let{$$slots:t={},$$scope:n}=o;return k(async()=>{if("serviceWorker"in navigator){let s="/"+e.url.pathname.split("/").slice(0,-1).join("/");s.endsWith("/")&&(s=s.slice(0,-1)),navigator.serviceWorker.register(new URL(s+"/worker.js",import.meta.url)).then(function(i){console.log("COOP/COEP Service Worker registered",i.scope),i.active&&!navigator.serviceWorker.controller&&window.location.reload()},function(i){console.log("COOP/COEP Service Worker failed to register",i)})}else console.warn("Cannot register a service worker")}),r.$$set=s=>{"$$scope"in s&&a(0,n=s.$$scope)},[n,t]}class $ extends l{constructor(o){super(),c(this,o,w,h,u,{})}}export{$ as default};
