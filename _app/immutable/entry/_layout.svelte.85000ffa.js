import{S as l,i as c,s as u,C as f,D as p,E as _,F as g,g as m,d,G as v,o as k}from"../chunks/index.51f46b54.js";import{p as C}from"../chunks/stores.89a7c213.js";function h(s){let o;const a=s[1].default,e=f(a,s,s[0],null);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,n){e&&e.m(t,n),o=!0},p(t,[n]){e&&e.p&&(!o||n&1)&&p(e,a,t,t[0],o?g(a,t[0],n,null):_(t[0]),null)},i(t){o||(m(e,t),o=!0)},o(t){d(e,t),o=!1},d(t){e&&e.d(t)}}}function w(s,o,a){let e;v(s,C,r=>a(2,e=r));let{$$slots:t={},$$scope:n}=o;return k(async()=>{if("serviceWorker"in navigator){let r=e.url.pathname;r.endsWith("/")&&(r=r.slice(0,-1)),navigator.serviceWorker.register(new URL(r+"/worker.js",import.meta.url)).then(function(i){console.log("COOP/COEP Service Worker registered",i.scope),i.active&&!navigator.serviceWorker.controller&&window.location.reload()},function(i){console.log("COOP/COEP Service Worker failed to register",i)})}else console.warn("Cannot register a service worker")}),s.$$set=r=>{"$$scope"in r&&a(0,n=r.$$scope)},[n,t]}class $ extends l{constructor(o){super(),c(this,o,w,h,u,{})}}export{$ as default};
