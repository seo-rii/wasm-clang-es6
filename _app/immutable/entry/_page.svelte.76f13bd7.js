var pe=Object.defineProperty;var we=(r,t,e)=>t in r?pe(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var w=(r,t,e)=>(we(r,typeof t!="symbol"?t+"":t,e),e);import{S as $,i as ee,s as J,k as C,l as I,m as F,h as v,n as K,b as te,H as p,I as S,o as le,w as Q,J as ue,K as ge,L as be,M as fe,q as x,a as M,y as ce,r as U,c as H,z as he,p as ye,N as se,A as de,O as Z,u as ke,P as _e,d as q,f as Ee,g as j,B as me,Q as Pe,G as Ae,v as Be,R as ve}from"../chunks/index.51f46b54.js";import{_ as O}from"../chunks/preload-helper.41c905a7.js";import{p as Te}from"../chunks/stores.89a7c213.js";function Ce(){return new Worker(""+new URL("../workers/editor.worker-cfd5aa4a.js",import.meta.url).href,{type:"module"})}function Ie(r){let t,e;return{c(){t=C("main"),e=C("div"),this.h()},l(l){t=I(l,"MAIN",{class:!0});var a=F(t);e=I(a,"DIV",{class:!0}),F(e).forEach(v),a.forEach(v),this.h()},h(){K(e,"class","h-screen svelte-17n7r9x"),K(t,"class","svelte-17n7r9x")},m(l,a){te(l,t,a),p(t,e),r[4](e)},p:S,i:S,o:S,d(l){l&&v(t),r[4](null)}}}function De(r,t,e){const l=()=>i.getValue(),a={cpp:`#include <bits/stdc++.h>

using namespace std;

int main() {
    int a;
    cout << "Enter a number: ";
    cin >> a;
    for(int i = 0; i < a; i++) cout << i << endl;
}`,python:`a = int(input("Enter a number: "))
for i in range(a):
    print(i)`};let o=null,{editor:i,language:c}=t,s;le(async()=>(self.MonacoEnvironment={getWorker(n,k){return new Ce}},s=await O(()=>import("../chunks/editor.main.cc6be788.js").then(n=>n.e),["../chunks/editor.main.cc6be788.js","../chunks/preload-helper.41c905a7.js","../assets/editor.c266e5b1.css"],import.meta.url),e(1,i=s.editor.create(o,{value:a[c],language:c})),()=>i.dispose()));function y(n){Q[n?"unshift":"push"](()=>{o=n,e(0,o)})}return r.$$set=n=>{"editor"in n&&e(1,i=n.editor),"language"in n&&e(3,c=n.language)},[o,i,l,c,y]}class Fe extends ${constructor(t){super(),ee(this,t,De,Ie,J,{value:2,editor:1,language:3})}get value(){return this.$$.ctx[2]}}const G={Tango_Dark:{foreground:"#eee",background:"#00000000",cursor:"#FFFFFF",cursorAccent:"#ffffff",selection:"#ffffff44",black:"#000000",red:"#CC0000",green:"#4E9A06",yellow:"#C4A000",blue:"#3465A4",magenta:"#75507B",cyan:"#06989A",white:"#D3D7CF",brightBlack:"#555753",brightRed:"#EF2929",brightGreen:"#8AE234",brightYellow:"#FCE94F",brightBlue:"#729FCF",brightMagenta:"#AD7FA8",brightCyan:"#34E2E2",brightWhite:"#EEEEEC"},Tango_Light:{foreground:"#111",background:"#FFFFFF00",cursor:"#000000",cursorAccent:"#000000",selection:"#00000044",black:"#000000",red:"#CC0000",green:"#4E9A06",yellow:"#C4A000",blue:"#3465A4",magenta:"#75507B",cyan:"#06989A",white:"#D3D7CF",brightBlack:"#555753",brightRed:"#EF2929",brightGreen:"#8AE234",brightYellow:"#FCE94F",brightBlue:"#729FCF",brightMagenta:"#AD7FA8",brightCyan:"#34E2E2",brightWhite:"#EEEEEC"}};async function Oe(r){const{FitAddon:t}=await O(()=>import("../chunks/xterm-addon-fit.c2723777.js").then(s=>s.x),["../chunks/xterm-addon-fit.c2723777.js","../chunks/_commonjsHelpers.725317a4.js"],import.meta.url),{SearchAddon:e}=await O(()=>import("../chunks/xterm-addon-search.f6b7d278.js").then(s=>s.x),["../chunks/xterm-addon-search.f6b7d278.js","../chunks/_commonjsHelpers.725317a4.js"],import.meta.url),{SerializeAddon:l}=await O(()=>import("../chunks/xterm-addon-serialize.774cd5fb.js").then(s=>s.x),["../chunks/xterm-addon-serialize.774cd5fb.js","../chunks/_commonjsHelpers.725317a4.js"],import.meta.url),{WebLinksAddon:a}=await O(()=>import("../chunks/xterm-addon-web-links.779ca841.js").then(s=>s.x),["../chunks/xterm-addon-web-links.779ca841.js","../chunks/_commonjsHelpers.725317a4.js"],import.meta.url),{WebglAddon:o}=await O(()=>import("../chunks/xterm-addon-webgl.6cf65e46.js").then(s=>s.x),["../chunks/xterm-addon-webgl.6cf65e46.js","../chunks/_commonjsHelpers.725317a4.js"],import.meta.url),{Unicode11Addon:i}=await O(()=>import("../chunks/xterm-addon-unicode11.5dec502f.js").then(s=>s.x),["../chunks/xterm-addon-unicode11.5dec502f.js","../chunks/_commonjsHelpers.725317a4.js"],import.meta.url),c={fit:new t,search:new e,serialize:new l,weblink:new a,webgl:new o,unicode:new i};for(const s in c)r.loadAddon(c[s]);return c}class Le{constructor(){w(this,"ts",Date.now());w(this,"output",null);w(this,"worker",null);w(this,"buffer",new SharedArrayBuffer(1024));w(this,"interruptBuffer",new SharedArrayBuffer(1));w(this,"internalBuffer",[]);w(this,"begin",0);w(this,"elapse",0);w(this,"uid",0)}load(t,e="",l=!0){return new Promise(async a=>{this.internalBuffer=[],this.worker?a():(this.worker=new(await O(()=>import("../chunks/clang.74c2288c.js"),[],import.meta.url)).default,this.worker.onmessage=()=>a(),this.worker.postMessage({load:!0,path:t,log:l,code:e}))})}write(t){this.internalBuffer.push(t)}_write(t){let e=t,l=4-e.length%4;for(;e.length%4!==3;)e+=" ";e+=l;const a=new Int32Array(this.buffer),i=new TextEncoder().encode(e);a.set(new Int32Array(i.buffer.slice(i.byteOffset),0))}eof(){}run(t,e){return new Promise(async(l,a)=>{const o=new Uint8Array(this.interruptBuffer),i=++this.uid,c=s=>{if(i!==this.uid)return this.worker.onmessage=null;const{id:y,output:n,results:k,log:m,error:f,buffer:g}=s.data;g&&this.internalBuffer.length&&this._write(this.internalBuffer.splice(0,1)[0]),n&&this.output(n),k&&(this.elapse=Date.now()-this.begin,l(k)),m&&console.log(m),f&&(this.elapse=Date.now()-this.begin,a(f))};o[0]=0,this.worker.onmessage=c,this.begin=Date.now(),this.worker.postMessage({code:t,prepare:e,buffer:this.buffer,interrupt:this.interruptBuffer,context:{}})})}terminate(){new Uint8Array(this.interruptBuffer)[0]=2}async clear(){this.terminate(),this.internalBuffer=[],this.worker&&(this.worker.onmessage=null),new Int32Array(this.buffer).fill(0),await new Promise(e=>setTimeout(e,200))}}class Ye{constructor(){w(this,"ts",Date.now());w(this,"output",null);w(this,"worker",null);w(this,"buffer",new SharedArrayBuffer(1024));w(this,"interruptBuffer",new SharedArrayBuffer(1));w(this,"internalBuffer",[]);w(this,"begin",0);w(this,"elapse",0);w(this,"uid",0)}load(t,e="",l=!0){return new Promise(async a=>{this.internalBuffer=[],this.worker?a():(this.worker=new(await O(()=>import("../chunks/python.3bd43f58.js"),[],import.meta.url)).default,this.worker.onmessage=()=>a(),this.worker.postMessage({load:!0,path:t,log:l,code:e}))})}write(t){this.internalBuffer.push(t)}_write(t){let e=t,l=4-e.length%4;for(;e.length%4!==3;)e+=" ";e+=l;const a=new Int32Array(this.buffer),i=new TextEncoder().encode(e);a.set(new Int32Array(i.buffer.slice(i.byteOffset),0))}eof(){}run(t,e){return new Promise(async(l,a)=>{const o=new Uint8Array(this.interruptBuffer),i=++this.uid,c=s=>{if(i!==this.uid)return this.worker.onmessage=null;const{id:y,output:n,results:k,log:m,error:f,buffer:g}=s.data;g&&this.internalBuffer.length&&this._write(this.internalBuffer.splice(0,1)[0]),n&&this.output(n),k&&(this.elapse=Date.now()-this.begin,l(k)),m&&console.log(m),f&&(this.elapse=Date.now()-this.begin,a(f))};o[0]=0,this.worker.onmessage=c,this.begin=Date.now(),this.worker.postMessage({code:t,prepare:e,buffer:this.buffer,interrupt:this.interruptBuffer,context:{}})})}terminate(){new Uint8Array(this.interruptBuffer)[0]=2}async clear(){this.terminate(),this.internalBuffer=[],this.worker&&(this.worker.onmessage=null),new Int32Array(this.buffer).fill(0),await new Promise(e=>setTimeout(e,200))}}const D={};async function Se(r){if(D[r])return D[r];let t;switch(r){case"PYTHON3":case"PYTHON":case"PYPY3":t=new Ye;break;case"C":case"CPP":t=new Le}return D[r]=t,t&&(r==="PYTHON3"&&(D.PYPY3=D.PYTHON=t),r==="PYTHON"&&(D.PYTHON3=D.PYPY3=t),r==="PYPY3"&&(D.PYTHON3=D.PYTHON=t),r==="C"&&(D.C=t),r==="CPP"&&(D.CPP=t)),t}function Ve(r){let t,e,l;return{c(){t=C("main"),e=C("div"),this.h()},l(a){t=I(a,"MAIN",{class:!0});var o=F(t);e=I(o,"DIV",{class:!0}),F(e).forEach(v),o.forEach(v),this.h()},h(){K(e,"class","svelte-ictpep"),ue(()=>r[10].call(e)),K(t,"class","svelte-ictpep")},m(a,o){te(a,t,o),p(t,e),r[9](e),l=ge(e,r[10].bind(e))},p:S,i:S,o:S,d(a){a&&v(t),r[9](null),l()}}}function Ne(r,t,e){const l=be();let{dark:a=!1,path:o="",font:i="'D2 coding', monospace"}=t,c,s,y,n,k=!0,m="",f,g=!0,P=0,b,V=null;function L(){return new Promise(u=>{const d=setInterval(()=>{n&&(clearInterval(d),u())},100)})}async function T(u){let d=++P;await L(),f&&await f.clear(),m="",k=!1,V!==u&&(f=await Se(u),await f.clear(),V=u),f.output=_=>d===P&&n.write(_.replaceAll(`
`,`\r
`))}function N(u){return u.then(()=>n.write(`\r
Process finished after ${f.elapse}ms\x1B[?25l`)).catch(d=>n.write(`\r
\x1B[1;3;31m${d}\x1B[?25l`)).finally(()=>{l("finish"),k=!0,e(7,n.options.cursorBlink=!1,n)})}async function R(u=!0){await L(),e(7,n.options.cursorBlink=u,n),n.focus(),g||n.write(`\r
\x1B[0m`),g=!1}const z={async clear(){await L(),n.reset(),n.write("\x1B[?25l\x1B[0m\x1B[?25h"),e(7,n.options.cursorBlink=!1,n),g=!0,await new Promise(u=>setTimeout(u,100))},async prepare(u,d,_=!0){await Promise.all([T(u).then(()=>f.load(o,d,_)),R(!1)]),await N(f.run(d,!0))},async run(u,d,_=!0){await Promise.all([T(u).then(()=>f.load(o,d,_)),R()]),await N(f.run(d,!1))}};le(()=>(O(()=>import("../chunks/xterm.1ef7a739.js").then(u=>u.x),["../chunks/xterm.1ef7a739.js","../chunks/_commonjsHelpers.725317a4.js"],import.meta.url).then(async({Terminal:u})=>{e(7,n=new u({theme:a?G.Tango_Dark:G.Tango_Light,cursorBlink:!1,allowTransparency:!0,fontFamily:i,allowProposedApi:!0})),n.open(c),n.onKey(d=>{if(k)return;const _=d.domEvent,A=!_.altKey&&!_.ctrlKey&&!_.metaKey;_.key==="Enter"?(n.write(`\r
`),f.write(m+`
`),m=""):_.key==="Backspace"?n._core.buffer.x>0&&(n.write("\b \b"),m.length>0&&(m=m.substring(0,m.length-1))):A?(d.key>=String.fromCharCode(32)&&d.key<=String.fromCharCode(126)||d.key>="Â ")&&(m+=d.key,n.write(d.key)):(_.ctrlKey||_.metaKey)&&_.key==="c"||(_.ctrlKey||_.metaKey)&&_.key==="d"?f.kill():(_.ctrlKey||_.metaKey)&&_.key==="v"&&navigator.clipboard.readText().then(h=>{n.write(h),f.write(h)})}),e(8,b=await Oe(n)),l("load")}),async()=>{n.dispose(),f&&await f.clear()}));function Y(u){Q[u?"unshift":"push"](()=>{c=u,e(1,c)})}function W(){s=this.clientWidth,y=this.clientHeight,e(2,s),e(0,y)}return r.$$set=u=>{"dark"in u&&e(3,a=u.dark),"path"in u&&e(4,o=u.path),"font"in u&&e(5,i=u.font)},r.$$.update=()=>{var u,d;r.$$.dirty&136&&n&&(a?e(7,n.options.theme=G.Tango_Dark,n):e(7,n.options.theme=G.Tango_Light,n)),r.$$.dirty&257&&((d=(u=b==null?void 0:b.fit)==null?void 0:u.fit)==null||d.call(u))},[y,c,s,a,o,i,z,n,b,Y,W]}class Re extends ${constructor(t){super(),ee(this,t,Ne,Ve,J,{dark:3,path:4,font:5,terminal:6})}get terminal(){return this.$$.ctx[6]}}function oe(r){let t,e,l;function a(i){r[10](i)}let o={language:r[4].toLowerCase()};return r[0]!==void 0&&(o.editor=r[0]),t=new Fe({props:o}),Q.push(()=>fe(t,"editor",a)),{c(){ce(t.$$.fragment)},l(i){he(t.$$.fragment,i)},m(i,c){de(t,i,c),l=!0},p(i,c){const s={};c&16&&(s.language=i[4].toLowerCase()),!e&&c&1&&(e=!0,s.editor=i[0],_e(()=>e=!1)),t.$set(s)},i(i){l||(j(t.$$.fragment,i),l=!0)},o(i){q(t.$$.fragment,i),l=!1},d(i){me(t,i)}}}function Me(r){let t,e,l,a,o,i,c,s,y,n,k,m,f,g,P,b,V,L,T,N,R,z=r[4],Y,W,u;function d(h){r[9](h)}let _={path:r[1]};r[2]!==void 0&&(_.terminal=r[2]),T=new Re({props:_}),Q.push(()=>fe(T,"terminal",d));let A=oe(r);return{c(){t=C("main"),e=C("div"),l=x(r[1]),a=M(),o=C("button"),i=x("Run"),c=M(),s=C("input"),y=M(),n=C("label"),k=x("Log"),m=M(),f=C("select"),g=C("option"),P=x("C++"),b=C("option"),V=x("Python"),L=M(),ce(T.$$.fragment),R=M(),A.c(),this.h()},l(h){t=I(h,"MAIN",{class:!0});var B=F(t);e=I(B,"DIV",{style:!0});var E=F(e);l=U(E,r[1]),a=H(E),o=I(E,"BUTTON",{});var re=F(o);i=U(re,"Run"),re.forEach(v),c=H(E),s=I(E,"INPUT",{type:!0}),y=H(E),n=I(E,"LABEL",{});var ne=F(n);k=U(ne,"Log"),ne.forEach(v),m=H(E),f=I(E,"SELECT",{});var X=F(f);g=I(X,"OPTION",{});var ie=F(g);P=U(ie,"C++"),ie.forEach(v),b=I(X,"OPTION",{});var ae=F(b);V=U(ae,"Python"),ae.forEach(v),X.forEach(v),L=H(E),he(T.$$.fragment,E),E.forEach(v),R=H(B),A.l(B),B.forEach(v),this.h()},h(){K(s,"type","checkbox"),g.__value="CPP",g.value=g.__value,b.__value="PYTHON",b.value=b.__value,r[4]===void 0&&ue(()=>r[8].call(f)),ye(e,"width","50%"),K(t,"class","svelte-blc2i2")},m(h,B){te(h,t,B),p(t,e),p(e,l),p(e,a),p(e,o),p(o,i),p(e,c),p(e,s),s.checked=r[3],p(e,y),p(e,n),p(n,k),p(e,m),p(e,f),p(f,g),p(g,P),p(f,b),p(b,V),se(f,r[4],!0),p(e,L),de(T,e,null),p(t,R),A.m(t,null),Y=!0,W||(u=[Z(o,"click",r[5]),Z(s,"change",r[7]),Z(f,"change",r[8])],W=!0)},p(h,[B]){(!Y||B&2)&&ke(l,h[1]),B&8&&(s.checked=h[3]),B&16&&se(f,h[4]);const E={};B&2&&(E.path=h[1]),!N&&B&4&&(N=!0,E.terminal=h[2],_e(()=>N=!1)),T.$set(E),B&16&&J(z,z=h[4])?(Be(),q(A,1,1,S),Ee(),A=oe(h),A.c(),j(A,1),A.m(t,null)):A.p(h,B)},i(h){Y||(j(T.$$.fragment,h),j(A),Y=!0)},o(h){q(T.$$.fragment,h),q(A),Y=!1},d(h){h&&v(t),me(T),A.d(h),W=!1,Pe(u)}}}function He(r,t,e){let l;Ae(r,Te,P=>e(11,l=P));let a=l.url.pathname;a.endsWith("/")&&(a=a.slice(0,-1));let o,i,c=!0,s="CPP",y=!1;async function n(){localStorage.setItem("code",o.getValue()),localStorage.setItem("language",s),"SharedArrayBuffer"in window||location.reload(),await i.clear(),await i.prepare(s,o.getValue(),c),await i.run(s,o.getValue(),c)}function k(){c=this.checked,e(3,c)}function m(){s=ve(this),e(4,s),e(0,o),e(6,y)}function f(P){i=P,e(2,i)}function g(P){o=P,e(0,o)}return r.$$.update=()=>{if(r.$$.dirty&65&&o&&!y){const P=localStorage.getItem("code"),b=localStorage.getItem("language");P&&o.setValue(P),b&&e(4,s=b),e(6,y=!0)}},[o,a,i,c,s,n,y,k,m,f,g]}class ze extends ${constructor(t){super(),ee(this,t,He,Me,J,{})}}export{ze as default};
